# Prometheus2Moogsoft

Webapp that works as a proxy for events emmited by prometheus webhook integration.
Events get formated into moogsoft required format.

## Alert lables

Alerts generated by the following exporters get mapped using the tags provided in the prometheus alert:



**bosh_exporter**

environment,
bosh_name,
bosh_uuid,
bosh_deployment,
bosh_job_name,
bosh_job_id,
bosh_job_index,
bosh_job_az,
bosh_job_ip

**prometheus_exporter**

## Configuration

Webapp can be configured though yaml:

example config:

```

```

## Available endpoints

**POST /promethus_webhook_event**

request body:

```
{
  "version": "4",
  "groupKey": <string>,    // key identifying the group of alerts (e.g. to deduplicate)
  "status": "<resolved|firing>",
  "receiver": <string>,
  "groupLabels": <object>,
  "commonLabels": <object>,
  "commonAnnotations": <object>,
  "externalURL": <string>,  // backlink to the Alertmanager.
  "alerts": [
    {
      "status": "<resolved|firing>",
      "labels": <object>,
      "annotations": <object>,
      "startsAt": "<rfc3339>",
      "endsAt": "<rfc3339>",
      "generatorURL": <string> // identifies the entity that caused the alert
    },
    ...
  ]
}
```

Moogsoft alert

## 
